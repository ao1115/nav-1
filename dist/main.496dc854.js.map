{"version":3,"sources":["main.js"],"names":["$siteList","$","$lastLi","find","x","localStorage","getItem","xObject","JSON","parse","hashMap","console","log","simplifyUrl","url","replace","on","window","prompt","length","alert","indexOf","$li","insertBefore","push","location","reload","string","stringify","setItem","forEach","node","index","e","preventDefault","delegateTarget","remove","splice","onbeforeunload","document","key","i","logo","toLowerCase","open"],"mappings":"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","file":"main.496dc854.js","sourceRoot":"..\\src","sourcesContent":["const $siteList = $(\".siteList\");\r\nconst $lastLi = $(\".siteList\").find(\"li.last\");\r\nconst x = localStorage.getItem(\"x\"); //读取当前网站下的x\r\nconst xObject = JSON.parse(x);\r\nconst hashMap = xObject || []\r\nconsole.log(hashMap)\r\n\r\n\r\nconst simplifyUrl = (url) => {\r\n  return url\r\n    .replace(\"https://\", \"\")\r\n    .replace(\"http://\", \"\")\r\n    .replace(\"www.\", \"\")\r\n    .replace(/\\/.*/, \"\") //用正则表达式删除后面/开头的所有内容\r\n    .replace(\".com\",\"\")\r\n    .replace(\".cn\",\"\")\r\n};\r\n\r\n$(\".addButton\").on(\"click\", () => {\r\n  let url = window.prompt(\"请问你要访问的网址是？\");\r\n  if(url.length ===0){\r\n    window.alert('网址不能为空')\r\n    return\r\n  }\r\n  if (url.indexOf(\"http\") !== 0) {\r\n    //如果http不存在就给加上\r\n    url = \"https://\" + url;\r\n  }\r\n  const $li = $(`<li>\r\n        <a href = ${url} target = \"true\">\r\n        <div class=\"site\">\r\n            <div class=\"logo\">\r\n            <svg class=\"icon\">\r\n                <use xlink:href=\"#icon-lianjie\"></use>\r\n            </svg>\r\n            </div>\r\n            <div class=\"close\">\r\n                <svg class=\"icon\">\r\n                     <use xlink:href=\"#icon-close\"></use>\r\n                </svg>\r\n            </div>\r\n            <div class=\"link\" class= \"addLink\">${simplifyUrl(url)}</div>\r\n        </div>\r\n        </a>\r\n    </li>`).insertBefore($lastLi);\r\n    hashMap.push({\r\n      url:url\r\n    })\r\n    window.location.reload()\r\n    console.log('window.location.reload()')\r\n    const string = JSON.stringify(hashMap); //只能存字符串，所以先转为字符串\r\n    localStorage.setItem(\"x\", string); //在本地的x里面存入哈希表\r\n});\r\n\r\nhashMap.forEach((node,index)=>{\r\n  const $li = $(`<li>\r\n        <a href = ${node.url} target = \"true\">\r\n        <div class=\"site\">\r\n            <div class=\"logo\">\r\n            <svg class=\"icon\">\r\n                <use xlink:href=\"#icon-lianjie\"></use>\r\n            </svg>\r\n            </div>\r\n            <div class=\"close\">\r\n                <svg class=\"icon\">\r\n                     <use xlink:href=\"#icon-close\"></use>\r\n                </svg>\r\n            </div>\r\n            <div class=\"link\" class= \"addLink\">${simplifyUrl(node.url)}</div>\r\n        </div>\r\n        </a>\r\n    </li>`).insertBefore($lastLi);\r\n    \r\n    $('li').on('click', '.close',(e)=> {\r\n      e.preventDefault() //阻止冒泡\r\n        e.delegateTarget.remove()\r\n        hashMap.splice(index,1)\r\n      })\r\n    })\r\n\r\n\r\nwindow.onbeforeunload= () => {\r\n  //自动保存\r\n  console.log(1)\r\n  const string = JSON.stringify(hashMap); //只能存字符串，所以先转为字符串\r\n  localStorage.setItem(\"x\", string); //在本地的x里面存入哈希表\r\n};\r\n\r\n$(document).on('keypress', (e) => {\r\n    const { key } = e //  const key = e.key\r\n    for (let i = 0; i < hashMap.length; i++){\r\n        if (hashMap[i].logo.toLowerCase() === key) {\r\n            window.open(hashMap[i].url)\r\n        }\r\n    }\r\n  })\r\n"]}